<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="movie">
<<<<<<< HEAD

	<!-- 영화 리스트 -->
	<select resultType="hashmap" parameterType="hashmap" id="selectMovieList">
	<![CDATA[
=======
	
	
	<!-- 영화 리스트 -->
	<select id = "selectMovieList" parameterType = "hashmap" resultType = "hashmap">
		<![CDATA[
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
		select * from MC_MOVIE order by MOVIE_NO
		]]>
	</select>

<<<<<<< HEAD

	<select resultType="hashmap" parameterType="hashmap" id="selectMovieDetail">
	<![CDATA[
		select * from MC_MOVIE where MOVIE_NO = #{MOVIE_NO}
		]]>
	</select>


	<select resultType="hashmap" parameterType="hashmap" id="selectFileList">
	<![CDATA[
=======
	<select id = "selectMovieDetail" parameterType = "hashmap" resultType = "hashmap">
		<![CDATA[
		select * from MC_MOVIE where MOVIE_NO = #{MOVIE_NO}
		]]>
	</select>
	
	<select id="selectFileList" parameterType="hashmap" resultType="hashmap">
		 <![CDATA[
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
        SELECT
            FILE_NO,
            POSTER_ORGNAME,
        FROM
            MC_MOVIE_FILE
        WHERE
            MOVIE_NO = #{MOVIE_NO}
            AND DEL_GB = 'N'
    ]]>
	</select>
<<<<<<< HEAD

	<!-- 영화 정보 입력 -->
	<insert parameterType="hashmap" id="insertMoive" keyProperty="MOVIE_NO" useGeneratedKeys="true">

		<selectKey resultType="int" keyProperty="MOVIE_NO"
			order="BEFORE">select MC_MOVIE_NO_SEQ.NEXTVAL from DUAL 
		</selectKey>
 		<![CDATA[
=======
	
	<!-- 영화 정보 입력 -->
	<insert id="insertMovie" parameterType="hashmap" >
		<!-- <selectKey keyProperty="MOVIE_NO" resultType="int" order="BEFORE">
			select MC_MOVIE_NO_SEQ.NEXTVAL from DUAL
		</selectKey> -->
		<![CDATA[
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
		insert into MC_MOVIE 
		( 
			MOVIE_NO, 
			MOVIE_NAME, 
			MOVIE_TYPE, 
		    MOVIE_OPENDATE, 
		    MOVIE_DIRECTOR, 
	        MOVIE_ACTOR, 
	        MOVIE_GENRE, 
	        MOVIE_CONTENT, 
	        MOVIE_GRADE,
		    MOVIE_AGE, 
		    MOVIE_URL
			)
		values 
		(
<<<<<<< HEAD
			#{MOVIE_NO},
=======
			MC_MOVIE_NO_SEQ.NEXTVAL,
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
			#{MOVIE_NAME},
			#{MOVIE_TYPE},
			#{MOVIE_OPENDATE},
			#{MOVIE_DIRECTOR},
			#{MOVIE_ACTOR},
			#{MOVIE_GENRE},
			#{MOVIE_CONTENT},
			#{MOVIE_GRADE},
			#{MOVIE_AGE},
			#{MOVIE_URL}
			)		 		  
		]]>
	</insert>
<<<<<<< HEAD

	<insert parameterType="hashmap" id="insertFile">
		<![CDATA[
=======
	
	<insert id="insertFile" parameterType="hashmap">
		 <![CDATA[
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
        INSERT INTO MC_MOVIE_FILE
        (
            FILE_NO,
            MOVIE_NO,
            POSTER_ORGNAME,
            POSTER_SAVNAME
        )
        VALUES
        (
            MC_MOVIE_FILE_NO_SEQ.NEXTVAL,
            #{MOVIE_NO},
            #{POSTER_ORGNAME},
            #{POSTER_SAVNAME}
        )
    ]]>
	</insert>
<<<<<<< HEAD

	<!-- 영화 정보 수정 -->
	<update parameterType="hashMap" id="updateMovie">
 		<![CDATA[
		update MC_MOVIE set 
			MOVIE_NAME = #{MOVIE_NAME},
			MOVIE_TYPE = #{MOVIE_TYPE},
			MOVIE_OPENDATE = #{MOVIE_OPENDATE},
			MOVIE_DIRECTOR = #{MOVIE_DIRECTOR},
			MOVIE_ACTOR = #{MOVIE_ACTOR},
			MOVIE_GENRE = #{MOVIE_GENRE},
			MOVIE_CONTENT = #{MOVIE_CONTENT},
			MOVIE_AGE = #{MOVIE_AGE},
			MOVIE_URL = #{MOVIE_URL},
			POSTER_ORGNAME = #{POSTER_ORGNAME},
			POSTER_SAVNAME = #{POSTER_SAVNAME}
		]]>
	</update>

	<!-- 영화 정보 삭제 -->
	<delete parameterType="hashmap" id="deleteMovie">
 	<![CDATA[
		delete from MC_MOVIE where MOVIE_NO = #{MOVIE_NO}
	]]>
	</delete>

	<update parameterType="hashmap" id="deleteFileList">
		<![CDATA[
		UPDATE MC_MOVIE_FILE
=======
	
	<!-- 영화 정보 수정 -->
	<update id = "modifyMovie" parameterType = "hashMap">
		<![CDATA[
		update MC_MOVIE set 
			MOVIE_NAME = #{MOVIE_NAME}, 
			MOVIE_TYPE = #{MOVIE_TYPE}, 
		    MOVIE_OPENDATE = #{MOVIE_OPENDATE}, 
		    MOVIE_DIRECTOR = #{MOVIE_DIRECTOR}, 
	        MOVIE_ACTOR = #{MOVIE_ACTOR}, 
	        MOVIE_GENRE = #{MOVIE_GENRE}, 
	        MOVIE_CONTENT = #{MOVIE_CONTENT} , 
	        MOVIE_GRADE = #{MOVIE_GRADE},
		    MOVIE_AGE = #{MOVIE_AGE}, 
		    MOVIE_URL = #{MOVIE_URL}
		where MOVIE_NO = #{MOVIE_NO}
		]]>
	</update>
	
	<!-- 영화 삭제 -->
	<delete id = "deleteMovie" parameterType = "hashmap">
		<![CDATA[
		delete from MC_MOVIE where MOVIE_NO = #{MOVIE_NO}
		]]>
	</delete>
	
	<update id = "deleteFileList" parameterType = "hashmap">
		<![CDATA[
			UPDATE MC_MOVIE_FILE
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
			SET
				DEL_GB = 'Y'
			WHERE
				MOVIE_NO = #{MOVIE_NO}
		]]>
	</update>
<<<<<<< HEAD

=======
	
>>>>>>> e7db5cf19f4f82a67c374708f72f078636c482bd
</mapper>