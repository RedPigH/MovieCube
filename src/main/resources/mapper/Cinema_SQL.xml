<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cinema">
	
	<!-- 영화관 리스트 -->
	<select id="selectCinemaList" parameterType = "hashmap" resultType = "hashmap">
		<![CDATA[
			SELECT * FROM CINEMA
			ORDER BY CINEMA_NO ASC
		]]>
	</select>
	
	<!-- 영화관 정보 작성 -->
	<insert id="insertCinema" parameterType = "hashmap" useGeneratedKeys="true" keyProperty="MEMBER_NO">
		<selectKey keyProperty="CINEMA_NO" resultType="int" order="BEFORE">
			SELECT CINEMA_NO_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		<![CDATA[
			INSERT INTO CINEMA (
				CINEMA_NO,
				CINEMA_NAME,
				CINEMA_CONTENT,
				CINEMA_ADDRESS
			)
			VALUES
			(
				#{CINEMA_NO},
				#{CINEMA_NAME},
				#{CINEMA_CONTENT},
				#{CINEMA_ADDRESS}
			) 
		]]>
	</insert>
	
	<!-- 영화관 정보 수정 -->
	<update id="updateCinema" parameterType = "hashmap">
		<![CDATA[
			UPDATE CINEMA
			SET
				CINEMA_NAME = #{CINEMA_NAME},
				CINEMA_CONTENT = #{CINEMA_CONTENT},
				CINEMA_ADDRESS = #{CINEMA_ADDRESS}
			WHERE CINEMA_NO = #{CINEMA_NO}
		]]>
	</update>
	
	<!-- 영화관 정보 삭제 -->
	<delete id="deleteCinema" parameterType = "hashmap">
		<![CDATA[
			DELETE FROM CINEMA
			WHERE CINEMA_NO = #{CINEMA_NO}
		]]>
	</delete>

</mapper>
